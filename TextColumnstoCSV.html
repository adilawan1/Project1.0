<div class="custom-widget">
  <p>
    <label>
      Enter Text Columns
      <br />
      <textarea cols="40" rows="10" id="input" class="inputfull"></textarea>
    </label>
  </p>

  <p>
    <input id="input-convert" type="submit" onclick="TC2CSV()" value="To CSV" />
  </p>

  <p>
    <label
      >CSV<br />
      <textarea cols="40" rows="10" id="output" class="inputfull" readonly="">
      </textarea>
    </label>
  </p>
  <script>
    // Helper function to convert TEXT Columns to CSV
    function TC2CSV() {
      document.getElementById("input").innerHTML =
        document.getElementById("input").value;
      let csvStr = document.getElementById("input").innerHTML;
      const txtString = `${tctocsv(csvStr)}`;
      function tctocsv(obj) {
        let text = obj.replaceAll("&nbsp;", ",");
        return text;
      }
      document.getElementById("output").innerHTML = txtString;
    }
  </script>
</div>
