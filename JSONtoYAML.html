<div>
  <h1>JSON to YAML Converter</h1>
  <h4>YAML:</h4>
  <textarea id="YAML" rows="5" style="width: 45%; font-size: larger"></textarea>
  <h4>JSON:</h4>
  <textarea id="JSON" rows="5" style="width: 45%; font-size: larger"></textarea>
  <div>
    <button onclick="fileHandling()">Upload a File</button>
    <button onclick="JS2YAML()">Convert to YAML</button>
  </div>
  <div><input id="url" placeholder="URL" /></div>
  <button
    onclick='fetch(document.getElementById("url").value)
    .then(res => res.text())
    .then(text => document.getElementById("JSON").innerHTML =text)'
  >
    URL
  </button>
  <button onclick="location.reload()">RESET</button>
  <!-- XML TO YAML Function -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
  <script>
    function fileHandling() {
      var input = document.createElement("input");
      input.type = "file";
      input.onchange = (e) => {
        // getting a hold of the file reference
        var file = e.target.files[0];

        // setting up the reader
        var reader = new FileReader();
        reader.readAsText(file, "UTF-8"); // this is reading as data url

        // here we tell the reader what to do when it's done reading...
        reader.onload = (readerEvent) => {
          var content = readerEvent.target.result; // this is the content!
          document.querySelector("#JSON").innerText = content;
        };
      };
      input.click();
    }
    function JS2YAML() {
      var Json = document.getElementById("JSON").value;
      var Obj = JSON.parse(Json);
      document.getElementById("YAML").innerHTML = jsyaml.dump(Obj);
    }
  </script>
</div>
