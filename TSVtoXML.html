<div class="custom-widget">
  <p>
    <label>
      Enter TSV
      <br />
      <textarea cols="40" rows="10" id="input" class="inputfull"></textarea>
    </label>
  </p>

  <p>
    <input
      id="input-convert"
      type="submit"
      onclick="Convert()"
      value="To XML"
    />
  </p>

  <p>
    <label
      >XML Output<br />
      <textarea cols="40" rows="10" id="output" class="inputfull" readonly="">
      </textarea>
    </label>
  </p>

  <script>
    function Convert() {
      var editor1Content = document.getElementById("input").value;
      var arr = editor1Content.split("\n");
      var titles = arr[0].split("\t");
      var text = `<?xml version="1.0" encoding="utf-8"?>\n<root>\n`;
      arr.shift();
      for (key in arr) {
        text += `<row>\n`;
        for (vals in arr[key].split("\t")) {
          text += `<${titles[vals]}>${arr[key].split("\t")[vals]}</${
            titles[vals]
          }>\n`;
        }
        text += `</row>\n`;
      }
      text += `</root>`;
      document.getElementById("output").innerHTML = text;
    }
  </script>
</div>
