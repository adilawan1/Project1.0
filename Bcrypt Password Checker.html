<div class="custom-widget">
    <h1>Bcrypt Password Checker</h1>
  
    <h2>Enter Password</h2>
    <textarea type="password" id="input" class="inputfull"  placeholder="Please enter password"></textarea>
  
    <h2>Enter Hash</h2>
    <textarea type="text" id="hash" class="inputfull" placeholder="Please enter bcrypt hash"></textarea>
  
    <input id="input-check" type="submit" onclick="checkBcryptPassword()" value="Check Password">
    <br><br>
  
    <h2>Output</h2>
    <textarea cols="40" rows="10" id="output" class="inputfull" readonly></textarea>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bcryptjs/2.4.3/bcrypt.min.js"></script>
    <script>
      function checkBcryptPassword() {
        const password = document.getElementById('input').value;
        const hash = document.getElementById('hash').value;
  
        if (!password || !hash) {
          alert('Please enter both password and hash');
          return;
        }
  
        // Add this line to load the bcrypt library before calling its functions
        const bcrypt = dcodeIO.bcrypt;
  
        bcrypt.compare(password, hash, function(err, result) {
          if (err) {
            alert('Error checking bcrypt password');
            return;
          }
          const output = document.getElementById('output');
          if (result) {
            output.value = 'Password is correct';
          } else {
            output.value = 'Password is incorrect';
          }
        });
      }
    </script>
  </div>
  