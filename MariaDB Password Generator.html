
  
  <div>
    <h1>MariaDB Password Generator</h1>
  
    <h2>Enter Password Length</h2>
    <textarea type="number" id="input" placeholder="Please enter password length"></textarea>
    <button id="input-convert">Convert</button>
    <br><br>
  
    <h2>Output</h2>
    <textarea id="output"></textarea>
    <button type="submit" id="download-btn">Download Password</button>
  
    <script>
      const downloadButton = document.getElementById('download-btn');
      let password;
  
      const input = document.getElementById('input');
      const inputConvertButton = document.getElementById('input-convert');
      inputConvertButton.addEventListener('click', () => {
        const length = input.value;
        if (!validateInput(length)) {
          alert('Password length must be a positive integer');
          return;
        }
        password = generateMariaDBPassword(length);
        const output = document.getElementById('output');
        output.value = password;
      });
  
      function generateMariaDBPassword(length) {
        const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-={}[]\\|;:\'",.<>?';
        let password = '';
        for (let i = 0; i < length; i++) {
          const randomIndex = Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0] / (Math.pow(2, 32) / charset.length));
          password += charset.charAt(randomIndex);
        }
        return password;
      }

      function validateInput(length) {
        return Number.isInteger(parseInt(length)) && parseInt(length) > 0;
      }
  
      downloadButton.addEventListener('click', () => {
        if (password != null) {
          const filename = 'output.txt';
  
          const link = document.createElement('a');
  
          link.setAttribute(
            'href',
            'data:application/json;charset=utf-8,' + encodeURIComponent(password)
          );
  
          link.setAttribute('download', filename);
  
          link.click();
        }
      });
    </script>
  </div>
