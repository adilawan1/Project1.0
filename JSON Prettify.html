
<div>
    <h1>JSON Prettify</h1>
  
    <h2>Input</h2>
    <textarea id="input"></textarea>
    <button id="input-convert">Convert</button>
    <br><br>
  
  
    <h2>Output</h2>
    <textarea id="output"></textarea>
    <button type="submit" id="download-btn">Download JSON</button>
  
    <script>
      const downloadButton = document.getElementById('download-btn');
      let JsonString;
  
  

  
  const input = document.getElementById('input');
  const inputConvertButton = document.getElementById('input-convert');
  inputConvertButton.addEventListener('click', () => {
    const JSON = input.value;
    JsonString = prettifyJson(JSON);
    const output = document.getElementById('output');
    output.value = JsonString;
  });
  
  function prettifyJson(jsonInput) {
      let parsedJson = null;

      try {
        parsedJson = JSON.parse(jsonInput);
      } catch (e) {
        alert("Invalid JSON data!");
        return;
      }

      const prettyJson = JSON.stringify(parsedJson, null, 2);
      return prettyJson;
    }


  downloadButton.addEventListener('click', () => {
          if (JsonString != null) {
            let filename = 'output.json';
  
            var link = document.createElement('a');
  
            link.setAttribute(
              'href',
              'data:csv/plain;charset=utf-8,' + encodeURIComponent(JsonString)
            );
  
            link.setAttribute('download', filename);
  
            link.click();
          }
        })
  
    </script>
</div>
